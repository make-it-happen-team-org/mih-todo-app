<div data-ng-controller="EventsController">
    <section class="container-fluid dashboard-panel task-event-form event">
        <div class="col-md-12">
            <form novalidate>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="tile clearfix">
                            <div class="col-sm-12 tile__header">
                                <h3 class="tile__title">New event</h3>
                            </div>
                            <div class="col-sm-12 tile__body clearfix">
                                <div class="col-md-4 col-sm-12">
                                    <div class="form-group">
                                        <label for="title">Title*</label>
                                        <input type="text" data-ng-model="eventData.title" id="title"
                                               class="form-input form-input--required" placeholder="Title"/>
                                        <div class="form-input-error-holder">
                                            <p data-ng-show="eventData.validationError" class="form-input-error-text">
                                                {{eventData.validationError.message}}
                                            </p>
                                        </div>
                                    </div>
                                    <div class="form-group form-box form-box--without-error">
                                        <label for="template">Template</label>
                                        <select class="form-input" id="template"
                                                data-ng-change="loadEventTemplate(selectedTemplate)"
                                                data-ng-model="selectedTemplate"
                                                data-ng-options="template.title for template in user.eventTemplates">
                                            <option value="">Select template</option>
                                        </select>
                                    </div>
                                    <div class="form-group is-template-checkbox">
                                        <input type="checkbox" id="isATemplate" class="form-checkbox"
                                               data-ng-model="eventData.isATemplate">
                                        <label for="isATemplate" class="form-checkbox-label form-checkbox-label--right">
                                            Save as template
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-12">
                                    <div class="form-group form-box form-box--without-error">
                                        <datetime-picker data-type="startTime" data-label="Start date"
                                                         data-activity="eventData" data-is-readonly="false"
                                                         data-picker-id="startDatePicker"
                                                         data-linked-picker-id="endDatePicker"></datetime-picker>
                                    </div>
                                    <div class="form-group form-box form-box--without-error">
                                        <datetime-picker data-type="endTime" data-label="End date"
                                                         data-activity="eventData" data-is-readonly="false"
                                                         data-picker-id="endDatePicker"></datetime-picker>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-12">
                                    <div class="form-group form-box form-box--without-error">
                                        <label for="notes">Notes</label>
                                        <textarea id="notes" class="form-input form-input--notes"
                                                  data-ng-model="eventData.notes"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12 text-right clearfix">
                        <button class="button button--grey button-cancel pull-left" data-ng-click="closeEventForm()">
                            Cancel
                        </button>
                        <button class="button button--blue button-calendar"
                                data-ng-click="calendar.isShown = !calendar.isShown">
                            Calendar preview
                        </button>
                        <button class="button button--green" data-ng-click="createEvent()">Create</button>
                    </div>
                </div>
            </form>
        </div>
    </section>
    <div data-ng-if="calendar.isShown" class="fade-element-in">
        <div data-ng-include="'/modules/calendar/views/calendar.client.view.html'"></div>
    </div>
</div>